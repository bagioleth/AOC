<!DOCTYPE html>
<!--
Copyright 2020 T. Angioletti

Permission is hereby granted, free of charge, to any person 
obtaining a copy of this software and associated documentation 
files (the "Software"), to deal in the Software without 
restriction, including without limitation the rights to use,
copy, modify, merge, publish, distribute, sublicense, and/or
sell copies of the Software, and to permit persons to whom 
the Software is furnished to do so, subject to the following
conditions:

The above copyright notice and this permission notice shall 
be included in all copies or substantial portions of the 
Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, 
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND 
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT 
HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, 
WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING 
FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR 
OTHER DEALINGS IN THE SOFTWARE.

See article below, where id="a_About", for program description.
-->
<html>
  <head>
    <title>Advent of Code 2020 -- Tom's Solutions</title>
    <style>
      body {
        display: grid;
        grid-template-rows: 2em 1em 1fr 1em;
        grid-template-columns: 1fr;
        gap: 2px;
        background-color: #0f0f23;
        color: #cccccc;
      }
      header {
        grid-row: 1/2;
      }
      nav {
        grid-row: 2/3;
      }
      footer {
        grid-row: end;
      }
      .tab {
        background-color: gray;
        color: white;
        float: left;
        border: none;
        outline: 1px solid white;
        cursor: pointer;
      }
      article {
        display: none;
        padding: 5px;
        outline: 1px solid white;
      }
      .ita {
        height: 90px;
        border: 3px solid rgb(14, 177, 115);
        background-color: rgb(200, 170, 130);
        color: black;
      }
      .ota {
        height: 50px;
        border: 3px solid rgb(52, 111, 160);
        background-color: rgb(200, 170, 130);
        color: black;
      }
    </style>
  </head>
  <body>
    <header>Tom's Solutions for the Advent of Code 2020</header>
    <nav id="nav-button-tabs"></nav>
    <footer>
      (c) 2020 T. Angioletti, except for problem descriptions and input data.
    </footer>
    <article id="a_About">
      Tom's Solutions for the Advent of Code 2020 <br />
      TSAOC2020 v0.1.0<br /><br />
      This is a simple program for solving the Advent of Code (AOC) 2020. My
      main objective is educational: I am learning modern web programming. I
      implemented the program as a single file containing CSS, HTML, and
      JavaScript. This obviously would not be a good choice for multi-person
      projects. Tho this is not industry best practice, it has a certain
      perverse elegance and, I think, made refactoring, version control, and
      code reuse simpler. I am extremely thankful for editor folding.<br /><br />
      Link to GitHub repository:
      <a href="https://github.com/tomangioletti/AOC"
        >https://github.com/tomangioletti/AOC</a
      ><br />
      Link to AOC:
      <a href="https://adventofcode.com/2020">https://adventofcode.com/2020</a>
      (Problem descriptions and input and test data are copied from that web
      site.)<br />
      Private Leader Board Code: 955752-e46ea5dd
      <hr />
      RELEASE NOTES<br />
      <ul>
        <li>20201129: v0.1.0 Initial release.</li>
      </ul>
      <hr />
      LEARNING REFERENCES<br />
      <a href="http://www.mew.org/~kazu/proj/visual-git-guide/index-en.html"
        >Visual Git Reference </a
      ><br />
      <a href="https://git-scm.com/book/en/v2">Pro Git Book</a><br />
      <a href="https://developer.mozilla.org/en-US/docs/Web/javascript"
        >MDN JavaScript reference</a
      ><br />
    </article>
    <article id="a_Debug">
      <button onclick="dbclear()">Clear</button>
      <button onclick="dbtest()">Test</button>
      <hr />
      DEBUG AREA
      <div id="dblog"></div>
    </article>
    <article id="a_d1p1">
      -----PROBLEM STATEMENT-----<br />
      <div class="problem_description">
        <h2>--- Day 1: Report Repair ---</h2>
        <p>
          After saving Christmas <a href="/events">five years in a row</a>,
          you've decided to take a vacation at a nice resort on a tropical
          island. <span title="WHAT COULD GO WRONG">Surely</span>, Christmas
          will go on without you.
        </p>
        <p>
          The tropical island has its own currency and is entirely cash-only.
          The gold coins used there have a little picture of a starfish; the
          locals just call them <em class="star">stars</em>. None of the
          currency exchanges seem to have heard of them, but somehow, you'll
          need to find fifty of these coins by the time you arrive so you can
          pay the deposit on your room.
        </p>
        <p>
          To save your vacation, you need to get all
          <em class="star">fifty stars</em> by December 25th.
        </p>
        <p>
          Collect stars by solving puzzles. Two puzzles will be made available
          on each day in the Advent calendar; the second puzzle is unlocked when
          you complete the first. Each puzzle grants
          <em class="star">one star</em>. Good luck!
        </p>
        <p>
          Before you leave, the Elves in accounting just need you to fix your
          <em>expense report</em> (your puzzle input); apparently, something
          isn't quite adding up.
        </p>
        <p>
          Specifically, they need you to
          <em>find the two entries that sum to <code>2020</code></em> and then
          multiply those two numbers together.
        </p>
        <p>For example, suppose your expense report contained the following:</p>
        <pre><code>1721
        979
        366
        299
        675
        1456
        </code></pre>
        <p>
          In this list, the two entries that sum to <code>2020</code> are
          <code>1721</code> and <code>299</code>. Multiplying them together
          produces <code>1721 * 299 = 514579</code>, so the correct answer is
          <code><em>514579</em></code
          >.
        </p>
        <p>
          Of course, your expense report is much larger.
          <em
            >Find the two entries that sum to <code>2020</code>; what do you get
            if you multiply them together?</em
          >
        </p>
      </div>
      <hr />
      <div>
        <div class="processing_buttons"></div>
        <br />-----INPUT-----<br />
        <div id="i_d1p1" class="ita" contenteditable="true">
          Put input data here.
        </div>
        <br />-----OUTPUT-----<br />
        <div id="o_d1p1" class="ota">
          Results appear here after pressing the Solve button.
        </div>
      </div>
    </article>
    <script>
      "use strict";
      // @ts-check
      //#region UTILITY AND UNIT TEST /////////////////////////////////
      function gi(id) {
        return document.getElementById(id);
      }
      function log(t) {
        gi("dblog").innerHTML += "<br/>" + t;
      }
      function dbclear() {
        gi("dblog").innerHTML = "";
      }
      function dbtest() {
        let ut = { p: 0, f: "Failed test ids:" };

        //Run unitTest function for all problems.
        Object.getOwnPropertyNames(problems).forEach((prb) =>
          problems[prb].unitTest(ut)
        );

        log(`${ut.p} tests passed. ${ut.f}.`);
      }
      //#endregion
      //#region DISPLAY CONTROL/////////////////////////////////
      let currentBaseId = "About";
      function readInput() {
        return gi("i_" + currentBaseId).textContent;
      }
      function writeInput(x) {
        gi("i_" + currentBaseId).innerHTML = x;
      }
      function writeOutput(x) {
        gi("o_" + currentBaseId).innerHTML = x;
      }
      function clearCurrentData() {
        writeInput("");
        writeOutput(
          "Load Input data then press Solve button for result appears here."
        );
      }
      function loadCurrentInputData() {
        clearCurrentData();
        writeInput(problems[currentBaseId].givenInputData);
      }
      function solveCurrentProblem() {
        problems[currentBaseId].solve();
      }
      function showArticle(baseId) {
        //Turn off current article and button.
        gi("a_" + currentBaseId).style.display = "none";
        gi("b_" + currentBaseId).style.backgroundColor = "gray";
        //Turn on new article and button.
        gi("a_" + baseId).style.display = "block";
        gi("b_" + baseId).style.backgroundColor = "#0f0f23";
        currentBaseId = baseId;
      }
      //Auto-create the nav button-tabs, one for each "a_*" element.
      function makeNavButton(id) {
        return `<button class="tab" id="b_${id}" onclick="showArticle('${id}')">${id}</button>`;
      }
      function makeProcessingButtons() {
        return `<button onclick="clearCurrentData()">Clear Data</button>
        <button onclick="loadCurrentInputData()">Load Given Input Data</button>
        <button onclick="solveCurrentProblem()">Solve</button>`;
      }
      window.addEventListener("load", function () {
        let s = "";
        document
          .querySelectorAll('[id^="a_"]')
          .forEach((a) => (s += makeNavButton(a.id.substr(2))));
        gi("nav-button-tabs").innerHTML = s;
        document
          .querySelectorAll(".processing_buttons")
          .forEach((div) => (div.innerHTML = makeProcessingButtons()));
        showArticle("About");
      });
      //#endregion

      //#region SOLUTIONS ///////////////////////////////////////////
      let problems = {};

      //#region DAY 1 PART 1 ///////////////////////////////////////
      problems.d1p1 = {
        givenInputData: `1768
1847
1905
1713
1826
1846
1824
1976
1687
1867
1665
1606
1946
1886
1858
346
1739
1752
1700
1922
1865
1609
1617
1932
1346
1213
1933
834
1598
1191
1979
1756
1216
1820
1792
1537
1341
1390
1709
1458
1808
1885
1679
1977
1869
1614
1938
1622
1868
1844
1969
1822
1510
1994
1337
1883
1519
1766
1554
1825
1828
1972
1380
1878
1345
1469
1794
1898
1805
1911
1913
1910
1318
1862
1921
1753
1823
1896
1316
1381
1430
1962
1958
1702
1923
1993
1789
2002
1788
1970
1955
1887
1870
225
1696
1975
699
294
1605
1500
1777
1750
1857
1540
1329
1974
1947
1516
1925
1945
350
1669
1775
1536
1871
1917
1249
1971
2009
1585
1986
1701
1832
1754
1195
1697
1941
1919
2006
1667
1816
1765
1631
2003
1861
1000
1791
1786
1843
1939
1951
269
1790
1895
1355
1833
1466
1998
1806
1881
1234
1856
1619
1727
1874
1877
195
1783
1797
2010
1764
1863
1852
1841
1892
1562
1650
1942
1695
1730
1965
1632
1981
1900
1991
1884
1278
1062
1394
1999
2000
1827
1873
1926
1434
1802
1579
1879
1671
1549
1875
1838
1338
1864
1718
1800
1928
1749
1990
1705`,
        solve: function () {
          let u = readInput();
          let a = u.split(/\r?\n/);
          a.forEach(function (e, i, a) {
            a[i] = parseInt(e.trim());
          });
          writeOutput("The answer (355875) is:" + this.docalc(a));
          writeOutput("The answer (140379120) is:" + this.docalc2(a));
        },
        unitTest: function (ut) {
          const s = " T-d1p1.";
          1 == 1 ? ut.p++ : (ut.f += s + "lg1");
          this.docalc([1721, 979, 366, 299, 675, 1456]) == 514579
            ? ut.p++
            : (ut.f += s + "td1");
          this.docalc2([1721, 979, 366, 299, 675, 1456]) == 241861950
            ? ut.p++
            : (ut.f += s + "td2");
        },
        docalc: function (arr) {
          for (let i = 0; i < arr.length; i++) {
            for (let j = i; j < arr.length; j++) {
              if (arr[i] + arr[j] == 2020) return arr[i] * arr[j];
            }
          }
          return -1;
        },
        docalc2: function (arr) {
          for (let i = 0; i < arr.length; i++) {
            for (let j = i; j < arr.length; j++) {
              for (let k = j; k < arr.length; k++) {
                if (arr[i] + arr[j] + arr[k] == 2020)
                  return arr[i] * arr[j] * +arr[k];
              }
            }
          }
          return -1;
        },
      };
      //#endregion
      //#endregion
    </script>
  </body>
</html>
